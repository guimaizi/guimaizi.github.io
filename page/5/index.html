<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>guimaizi&#39;s blog</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="guimaizi&#39;s blog" type="application/atom+xml">
    
<meta name="generator" content="Hexo 4.2.0"></head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/archives" class="header__link">Archive</a>
			
				<a href="/tags" class="header__link">Tags</a>
			
				<a href="/atom.xml" class="header__link">RSS</a>
			
		</nav>
		<h1 class="header__title"><a href="/">guimaizi&#39;s blog</a></h1>
		<h2 class="header__subtitle">道心不改,灵台无尘。</h2>
	</header>

	<main>
		
	<span class="different-posts different-posts_earlier">📖 <a href="/page/4">earlier posts</a> 📖</span>




	<article>
	
		<h1><a href="/2019/07/06/489/">489</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2019-07-06</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/%E5%AE%89%E5%85%A8-%E4%BB%A3%E7%A0%81/">安全/代码</a>
			</span><br />
		
		
	</div>

	

	
		<p>web安全可以改名了,叫做http/s接口安全吧。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2019/06/29/486/">486</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2019-06-29</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/%E6%80%9D%E6%83%B3/">思想</a> > <a class="article-category-link" href="/categories/%E6%80%9D%E6%83%B3/%E7%94%9F%E6%B4%BB/">生活</a>
			</span><br />
		
		
	</div>

	

	
		<p>对不起，我才华横溢。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2019/06/26/484/">484</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2019-06-26</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/%E7%94%9F%E6%B4%BB/">生活</a>
			</span><br />
		
		
	</div>

	

	
		<p>决定了，做点高产值的东西。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2019/06/25/burp-e6-bc-8f-e6-89-ab-e6-8f-92-e4-bb-b6/">burp漏扫插件</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2019-06-25</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/%E5%AE%89%E5%85%A8-%E4%BB%A3%E7%A0%81/">安全/代码</a>
			</span><br />
		
		
	</div>

	

	
		<p>github:<a href="https://github.com/guimaizi/burp_lib" target="_blank" rel="noopener">https://github.com/guimaizi/burp_lib</a></p>
<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>burp应该是在座的诸位安全从业人员必用的测试工具,重放http/s请求包是burp最常用的功能. xss案例:</p>
<pre><code>&lt;?php
    $domain=$_POST[&apos;domain&apos;];
  if($domain){
    echo $domain;
  }else{
    $html=&apos;&lt;form name=&quot;input&quot; action=&quot;&quot; method=&quot;post&quot;&gt;
    domain: &lt;input type=&quot;text&quot; name=&quot;dasdas&quot;&gt;
    &lt;input type=&quot;text&quot; name=&quot;domadsa112n&quot;&gt;
    &lt;input type=&quot;text&quot; name=&quot;domain&quot;&gt;
    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;
    &lt;/form&gt;&apos;;
    echo $html;
  }
?&gt;</code></pre><p>那么漏洞测试就是修改http请求包的参数.如sql、xss、命令执行测试,无非是在参数值后面追加payload，然后查看响应包判读是否存在漏洞,然而一个参数一个参数的测试真的很辛苦。<br><figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/20190625110336.png" alt=""></figure> 如图，手工测到最后一个参数，才发现xss 不如写个脚本遍历参数值,让程序自动加上漏洞检测payload并且重放。<br><figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/20190625110651.png" alt=""></figure> 点击触发扫描。<br><figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/20190625110807.png" alt=""></figure> 判断响应包http响应大小与返回内容是否存在关键字，依次来判断漏洞是否存在。 <figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/20190625111017.png" alt=""></figure> 请自行修改漏洞检测用payload,与分析响应包的内容。</p>
<h3 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h3><p>参考:Burpsuite插件的使用:<a href="https://www.freebuf.com/sectool/158005.html" target="_blank" rel="noopener">https://www.freebuf.com/sectool/158005.html</a> win10/8/7/xp<br>python3.5+</p>
<blockquote>
<p>pip install requests</p>
</blockquote>
<p>设置绝对路径:<br>test_vul.py 25行<br>burp_vul_plugin 59行 1.下载<a href="http://www.jython.org/downloads.html" target="_blank" rel="noopener">http://www.jython.org/downloads.html</a> Download Jython 2.7.0 - Standalone Jar 版<br>导入:<br><figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/20190625112127.png" alt=""></figure> 2.导入我的漏洞检测<br><figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/20190625112300.png" alt=""></figure> 然后就可以用了:<br><figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/20190625112900.png" alt=""></figure></p>
<h3 id="码个代码不容易，大爷大妈行行好，赏碗鸡煲翅吧，希望有钱人打赏-万分感谢。"><a href="#码个代码不容易，大爷大妈行行好，赏碗鸡煲翅吧，希望有钱人打赏-万分感谢。" class="headerlink" title="码个代码不容易，大爷大妈行行好，赏碗鸡煲翅吧，希望有钱人打赏,万分感谢。"></a>码个代码不容易，大爷大妈行行好，赏碗鸡煲翅吧，希望有钱人打赏,万分感谢。</h3><p><figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/20190625113229.png" alt=""></figure> <figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/img/20190301182006.jpg" alt=""></figure></p>

	

	

</article>




	<article>
	
		<h1><a href="/2019/06/25/e5-9f-9f-e5-90-8d-e6-94-b6-e9-9b-86-e4-b8-8e-e7-9b-91-e6-b5-8bv3-0/">域名收集与监测V3.0</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2019-06-25</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/%E5%AE%89%E5%85%A8-%E4%BB%A3%E7%A0%81/">安全/代码</a>
			</span><br />
		
		
	</div>

	

	
		<p>github:<a href="https://github.com/guimaizi/get_domain" target="_blank" rel="noopener">https://github.com/guimaizi/get_domain</a></p>
<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>在职业刷src或者apt攻击者的角度，单单过一遍爆破的域名是不能满足持续性漏洞挖掘;从职业刷src的角度，过一遍收集的子域名，已经发现了所有漏洞并已经提交后修复，或者用当前漏洞测试方法并没发现有漏洞，这样业务是安全的，但这个安全是在当下时间的，企业要发展、要解决当前问题，就会出新业务、或者不断的修复更新旧问题，这就是业务的变化，通过持续性监控子域名就会发现业务的变化，最快速度的发现变化，对变化进行安全测试、漏洞挖掘。有经验的刷src的同学都知道，新业务发现漏洞概率都很高。</p>
<h3 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h3><p>需要环境: * win10/8/7/xp<br>其他请自行修改代码、反正是开源，改动也不大。 * python3<br>python3.5+ 自行官方下载 * mongodb<br>自行官方下载 建议docker搭建 参考:<a href="https://www.jianshu.com/p/6fdb2bcb4b43" target="_blank" rel="noopener">https://www.jianshu.com/p/6fdb2bcb4b43</a> * chrome<br>自行官方下载 * chromedriver<br>下载成功后放入python根目录或加入全局环境变量<br>chromedriver下载地址:<a href="http://npm.taobao.org/mirrors/chromedriver/" target="_blank" rel="noopener">http://npm.taobao.org/mirrors/chromedriver/</a> 注:与当前chrome匹配 * subfinder<br><a href="https://github.com/subfinder/subfinder" target="_blank" rel="noopener">https://github.com/subfinder/subfinder</a> win默认带有,其他请自行修改代码。 以上配置完成,切进项目目录<br>pip 安装requirements.txt</p>
<blockquote>
<p>pip install -r requirements.txt</p>
</blockquote>
<p>设置config.json</p>
<pre><code>{
    &quot;path&quot;:&quot;E:/code/test1&quot;, //项目所在绝对路径
    &quot;target_json&quot;:&quot;E:/code/test1/target/qq.json&quot;,   //目标域名文件绝对路径
    &quot;chrome_path&quot;:&quot;C:/Program Files (x86)/Google/Chrome/Application/chrome.exe&quot;, //chrome文件绝对路径
    &quot;timeout&quot;:8, //全局超时设置,建议大于5
    &quot;mongo_config&quot;:{&quot;ip&quot;:&quot;127.0.0.1&quot;,&quot;port&quot;:27017,&quot;name&quot;:&quot;&quot;,&quot;password&quot;:&quot;&quot;} //mongodb 配置,ip 端口 name passwrod  空密码时name pwd设置为空
}</code></pre><p>设置目标域名文件</p>
<pre><code>{
&quot;domain&quot;:&quot;.qq.com&quot;,  //目标域名 必须是.xx.xxx 如.qq.com .163.com .126.net
//子域名黑名单,解决泛解析问题
&quot;Blacklist_domain&quot;:[
        &quot;.qzone.qq.com&quot;,
        &quot;.gamebbs.qq.com&quot;,
        &quot;.ke.qq.com&quot;,
        &quot;.house.qq.com&quot;,
        &quot;.auto.qq.com&quot;,
        &quot;.openwebgame.qq.com&quot;,
        &quot;.house.qq.com&quot;,
        &quot;.zhan.qq.com&quot;,
        &quot;.114.qq.com&quot;,
        &quot;.photo.store.qq.com&quot;,
        &quot;.b.qq.com&quot;,
        &quot;.m.qq.com&quot;,
        &quot;.z.qq.com&quot;,
        &quot;.t.qq.com&quot;,
        &quot;.ly.qq.com&quot;,
        &quot;.zg.qq.com&quot;,
        &quot;.3g.qq.com&quot;,
        &quot;.4g.qq.com&quot;,
        &quot;.ia.qq.com&quot;,
        &quot;.city.qq.com&quot;,
        &quot;.photo.qq.com&quot;
    ]
}</code></pre><p>设置fun_all.py第12行</p>
<pre><code>修改对应config.json绝对路径</code></pre><h3 id="运行说明"><a href="#运行说明" class="headerlink" title="运行说明"></a>运行说明</h3><p>获取域名http响应结果写入mongodb库 <figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/20190614112043.png" alt=""></figure> 获取子域名、子域名管理、子域名监控</p>
<blockquote>
<p>python start.py [argv]<br>-s 开始通过subfinder爆破获取第一批域名;<br>-u 调出数据库内domain重新爬行，通过新旧返回值比对，发现业务变化;<br>-i 导入域名txt字典文件 格式为:xxx.xxx.com;<br>-iurl 导入url txt文件 格式为:<a href="http://xxx.xxx.com/dasd.php" target="_blank" rel="noopener">http://xxx.xxx.com/dasd.php</a>;</p>
</blockquote>
<p><figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/20190624222624.png" alt=""></figure></p>
<h3 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h3><p><figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/20190624222715.png" alt=""></figure></p>
<h3 id="码个代码不容易，希望有钱人打赏-万分感谢。"><a href="#码个代码不容易，希望有钱人打赏-万分感谢。" class="headerlink" title="码个代码不容易，希望有钱人打赏,万分感谢。"></a>码个代码不容易，希望有钱人打赏,万分感谢。</h3><p><figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/img/20190301182006.jpg" alt=""></figure></p>

	

	

</article>




	<article>
	
		<h1><a href="/2019/06/20/477/">477</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2019-06-20</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/%E6%80%9D%E6%83%B3/">思想</a> > <a class="article-category-link" href="/categories/%E6%80%9D%E6%83%B3/%E7%94%9F%E6%B4%BB/">生活</a> > <a class="article-category-link" href="/categories/%E6%80%9D%E6%83%B3/%E7%94%9F%E6%B4%BB/%E7%A4%BE%E4%BC%9A/">社会</a>
			</span><br />
		
		
	</div>

	

	
		<p>操你妈的，挖你妈鸡巴屌洞，码鸡巴代码，做鸡巴屌丝，与人为善 劝人向善，不是当屌丝不是穷的一笔，做个好黑客，做个资本家，他妈的。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2019/06/18/472/">472</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2019-06-18</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/a%E8%82%A1-%E9%87%91%E8%9E%8D/">a股/金融</a> > <a class="article-category-link" href="/categories/a%E8%82%A1-%E9%87%91%E8%9E%8D/%E6%80%9D%E6%83%B3/">思想</a> > <a class="article-category-link" href="/categories/a%E8%82%A1-%E9%87%91%E8%9E%8D/%E6%80%9D%E6%83%B3/%E6%94%BF%E6%B2%BB-%E7%BB%8F%E6%B5%8E/">政治/经济</a> > <a class="article-category-link" href="/categories/a%E8%82%A1-%E9%87%91%E8%9E%8D/%E6%80%9D%E6%83%B3/%E6%94%BF%E6%B2%BB-%E7%BB%8F%E6%B5%8E/%E7%94%9F%E6%B4%BB/">生活</a> > <a class="article-category-link" href="/categories/a%E8%82%A1-%E9%87%91%E8%9E%8D/%E6%80%9D%E6%83%B3/%E6%94%BF%E6%B2%BB-%E7%BB%8F%E6%B5%8E/%E7%94%9F%E6%B4%BB/%E7%A4%BE%E4%BC%9A/">社会</a> > <a class="article-category-link" href="/categories/a%E8%82%A1-%E9%87%91%E8%9E%8D/%E6%80%9D%E6%83%B3/%E6%94%BF%E6%B2%BB-%E7%BB%8F%E6%B5%8E/%E7%94%9F%E6%B4%BB/%E7%A4%BE%E4%BC%9A/%E9%A2%84%E6%B5%8B/">预测</a>
			</span><br />
		
		
	</div>

	

	
		<p>沉稳冷静，成年人的必备素养，天崩地裂要认真对待，吃饭 喝水 睡觉 走路也要认真对待。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2019/06/15/e4-b8-93-e6-b3-a8/">专注</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2019-06-15</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/%E5%AE%89%E5%85%A8-%E4%BB%A3%E7%A0%81/">安全/代码</a>
			</span><br />
		
		
	</div>

	

	
		<p>通常来说面临的数据量越大 发现有价值的数据几率越高。 但当数据量大于人类处理能力的最大值时，大量的数据却会成为负担，你无心深入每一个数据面，只是浅薄的测过就走。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2019/06/14/e5-9f-9f-e5-90-8d-e7-9b-91-e6-8e-a7-e8-84-91-e5-9b-be-e5-88-86-e4-ba-ab/">域名监控脑图分享</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2019-06-14</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/%E5%AE%89%E5%85%A8-%E4%BB%A3%E7%A0%81/">安全/代码</a>
			</span><br />
		
		
	</div>

	

	
		<p><figure class="figure"><img src="https://raw.githubusercontent.com/guimaizi/cloud/test/20190614112043.png" alt=""></figure></p>

	

	

</article>




	<article>
	
		<h1><a href="/2019/06/07/e7-bd-aa-e5-b7-b1-e8-af-8f/">罪己诏</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2019-06-07</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/%E6%80%9D%E6%83%B3/">思想</a> > <a class="article-category-link" href="/categories/%E6%80%9D%E6%83%B3/%E7%94%9F%E6%B4%BB/">生活</a>
			</span><br />
		
		
	</div>

	

	
		<h3 id="患得患失"><a href="#患得患失" class="headerlink" title="患得患失"></a>患得患失</h3><p>总了捡了芝麻失了西瓜，什么都好奇什么都去尝试，然后一地鸡毛，穷的叮当响，哈哈哈，他妈的。</p>
<h3 id="懒散-不认真"><a href="#懒散-不认真" class="headerlink" title="懒散 不认真"></a>懒散 不认真</h3><p>唉….三分钟热度的我，总想一口吃成胖子的我，已经懒的说什么….</p>

	

	

</article>





	<span class="different-posts">📖 <a href="/page/6">more posts</a> 📖</span>



	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>Hi there, <br />welcome to my Blog glad you found it. Have a look around, will you?</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>© 2020 guimaizi | Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> | Theme <a href="https://github.com/HoverBaum/meilidu-hexo" target="_blank" rel="noopener">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
